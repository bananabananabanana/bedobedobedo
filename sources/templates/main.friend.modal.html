<ion-modal-view>
    <ion-header-bar class="bar-dark">
        <h1 class="title">{{friend.fullname}}</h1>
        <button class="button button-icon ion-close" ng-click="hideModal(false)"></button>
    </ion-header-bar>
    <ion-content>
        <ion-refresher on-refresh="refreshFriend(friend.id)"></ion-refresher>
        <ion-list>
            <ion-item class="item-thumbnail-left">
                <img ng-src="{{friend.image}}">

                <h2>{{friend.fullname}}</h2>

                <p>Рейтинг: {{friend.rating}}</p>
            </ion-item>
            <ion-item class="item-divider">
                Операции
            </ion-item>
            <ion-item class="row-no-padding">
                <label class="item-input item-stacked-label">
                    <span class="input-label">Сумма</span>
                    <input type="number" min="0" ng-model="swap.quantity">
                </label>
            </ion-item>
            <ion-item class="row-no-padding">
                <label class="item-input item-stacked-label">
                    <span class="input-label">Дата возврата</span>
                    <input type="date" ng-model="swap.date">
                </label>
            </ion-item>

            <ion-item class="item-divider"
                      ng-show="friend.creditor.length">
                Вы должны ({{friend.creditor.length}})
            </ion-item>
            <ion-item class="item-button-right"
                      ng-repeat="creditor in friend.creditor">
                <b>{{creditor.quantity}}</b> до {{creditor.endDate}}
                <button class="button button-clear"
                        ng-hide="creditor.confirm"
                        ng-click="creditorConfirm(creditor)">Подтвердить
                </button>
            </ion-item>
            <ion-item class="item-divider"
                      ng-show="friend.debtor.length">
                Вам должны ({{friend.debtor.length}})
            </ion-item>
            <ion-item class="item-button-right"
                      ng-repeat="debtor in friend.debtor">
                <b>{{debtor.quantity}}</b> до {{debtor.endDate}}
                <button class="button button-clear" disabled
                        ng-hide="debtor.confirm">Не подтверждено
                </button>
                <button class="button button-clear"
                        ng-show="debtor.confirm"
                        ng-click="debtorConfirm(debtor)">Действия
                </button>
            </ion-item>

            <ion-item class="item-divider"
                      ng-show="friend.close.creditor.length">
                Вы отдали ({{friend.close.creditor.length}})
            </ion-item>
            <ion-item ng-repeat="creditor in friend.close.creditor">
                <b>{{creditor.quantity}}</b> до {{creditor.endDate}}
            </ion-item>
            <ion-item class="item-divider"
                      ng-show="friend.close.debtor.length">
                Вам отдали ({{friend.close.debtor.length}})
            </ion-item>
            <ion-item ng-repeat="debtor in friend.close.debtor">
                <b>{{debtor.quantity}}</b> до {{debtor.endDate}}
            </ion-item>

            <ion-item class="item-divider"
                      ng-show="friend.cancel.creditor.length">
                Вы отменили ({{friend.cancel.creditor.length}})
            </ion-item>
            <ion-item ng-repeat="creditor in friend.cancel.creditor">
                <b>{{creditor.quantity}}</b> до {{creditor.endDate}}
            </ion-item>
            <ion-item class="item-divider"
                      ng-show="friend.cancel.debtor.length">
                Вам отменили ({{friend.cancel.debtor.length}})
            </ion-item>
            <ion-item ng-repeat="debtor in friend.cancel.debtor">
                <b>{{debtor.quantity}}</b> до {{debtor.endDate}}
            </ion-item>
        </ion-list>
    </ion-content>
    <ion-footer-bar>
        <div class="button-bar">
            <button class="button button-positive"
                    ng-click="giveConfirm()"
                    ng-disabled="disabledButton()">Одолжить
            </button>
        </div>
    </ion-footer-bar>
</ion-modal-view>